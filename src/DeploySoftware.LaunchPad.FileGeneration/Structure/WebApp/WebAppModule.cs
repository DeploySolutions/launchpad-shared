using Castle.Core.Logging;
using System;
using System.Collections.Generic;

namespace DeploySoftware.LaunchPad.FileGeneration.Structure
{
    /// <summary>
    /// Represents a module generated by LaunchPad Framework that contains
    /// API/middleware/backend component, at least one web client component, and possible documentation component.
    /// </summary>    
    [Serializable]
    public partial class WebAppModule : LaunchPadGeneratedModule<WebAppModuleSettings>, IWebAppModule
    {

        public virtual VisualStudioComponent WebApi { get; set; }

        public virtual IDictionary<string, WebClientComponent> WebClients { get; set; }


        public virtual ISoftwareInfrastructure SoftwareInfrastructure { get; set; }

        public WebAppModule() : base(NullLogger.Instance)
        {
            Settings = new WebAppModuleSettings();
            WebApi = new VisualStudioComponent(NullLogger.Instance);
            var comparer = StringComparer.OrdinalIgnoreCase;
            WebClients = new Dictionary<string, WebClientComponent>(comparer);
        }

        public WebAppModule(ILogger logger) : base(logger)
        {
            Settings = new WebAppModuleSettings();
            WebApi = new VisualStudioComponent(logger);
            var comparer = StringComparer.OrdinalIgnoreCase;
            WebClients = new Dictionary<string, WebClientComponent>(comparer);
        }
    }
}
